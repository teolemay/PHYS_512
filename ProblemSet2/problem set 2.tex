\documentclass{article}

%opening
\title{PHYS 512 Problem Set 2}
\author{Teophile Lemay, 281081252}
\date{}
\usepackage[left=2cm, right=2cm, top=2cm]{geometry}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{physics}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{xcolor}
\newcommand{\<}[1]{\left\langle #1 \right\rangle }


\begin{document}
	\maketitle
	
\section{}
The electric field at a point near a uniformly charged spherical shell can be calculated by integrating over infinitesimal rings to make up the sphere. The electric field due to each ring is calculated starting from Coulomb's law $E = \frac{kQ}{r^2}$. Using the variables from the ring diagram in Figure 1, integrating over the circumference of the ring, given a uniform line charge density $\rho$ gives $E = \frac{k2\pi \lambda R'}{r^2}$. However, due to the radial symmetry of the ring, only the $z$ component of the electric field will remain for a point along the ring's axis so
\[E_{ring} = \frac{k2\pi\rho R'}{r^2} \cos{\theta} = \frac{k2\pi\rho R'}{r^2}\frac{z}{r} = \frac{k2\pi\rho R'z}{r^3}\text{ .}\]
Finally, $r$ can be expressed in terms of $z$ and $R'$:
\[E_{ring} = \frac{k2\pi\rho R'z}{\left(z^2 + R'^2\right)^{3/2}} \text{ .}\]
\begin{figure}[h]
	\caption{Charged ring diagram}
	\centering
	\includegraphics[scale=0.5]{ringdiagram}
\end{figure}
Now, the integral over the sphere can be evaluated by taking the sum of rings making up the sphere for $R'$ the radius of each infinitesimal ring and $z'$ the height of the point relative to each ring.
\[R' = \frac{R}{\sin(\theta))} \]
\[z' = z + R\cos\theta\]
\[E_z = \int_{0}^{\pi}  d\theta E_{ring}(\theta, z)\]

\section{}
My adaptive step size integration function uses Simpson's rule. For the given interval $[a, b]$, the midpoint $m = (a+b)/2$ is calculated and the function is evaluated at the start, midpoint, and end of the interval. These values are used to compute the integral from $a$ to $b$ using Simpson's rule. Next, the secondary midpoints ($m' = (a+m)/2$ and $m'' = (m+b)/2$) are calculated and the function is also evaluated at these points. With these points, the integral is calculated again using Simpson's rule, but with two smaller intervals, and compared to the previous result. If the difference of the two intervals is within a set tolerance ($\epsilon = 10^{-7}$ was chosen arbitrarily), then the integral is returned (the two interval result is always taken since error for Simpson's rule is proportional to $dx^5$ so smaller intervals will produce smaller error).\\
\\
If the resulting integrals do not match, my function uses recursion to call itself over each of the sub-intervals:
\[\int_a^b dx f = \int_a^m dx f + \int_m^b dx f \]
 

\section{}


\end{document}
